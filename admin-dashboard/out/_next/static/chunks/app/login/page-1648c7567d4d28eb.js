(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[626],{4702:function(e,t,r){Promise.resolve().then(r.bind(r,378))},378:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return l}});var n=r(7437),s=r(2265);function l(){let[e,t]=(0,s.useState)(""),[r,l]=(0,s.useState)(""),[o,a]=(0,s.useState)(""),i=async t=>{t.preventDefault();try{let t=await fetch("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:r})}),n=await t.json();if(t.ok&&n.token){if("admin"!==n.user.role){a("Access denied. Admin only.");return}localStorage.setItem("token",n.token),localStorage.setItem("user",JSON.stringify(n.user)),window.location.href="/admin/"}else a(n.error||"Login failed")}catch(e){a("Network error")}};return(0,n.jsx)("div",{className:"flex min-h-screen items-center justify-center bg-slate-950 text-white",children:(0,n.jsxs)("div",{className:"w-full max-w-md rounded-xl border border-slate-800 bg-slate-900 p-8 shadow-xl",children:[(0,n.jsx)("h1",{className:"mb-6 text-center text-2xl font-bold text-blue-500",children:"Admin Login"}),o&&(0,n.jsx)("div",{className:"mb-4 rounded bg-red-500/10 p-3 text-sm text-red-400",children:o}),(0,n.jsxs)("form",{onSubmit:i,className:"space-y-4",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"mb-1 block text-sm text-slate-400",children:"Email"}),(0,n.jsx)("input",{type:"email",value:e,onChange:e=>t(e.target.value),className:"w-full rounded bg-slate-800 p-2 text-white focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"mb-1 block text-sm text-slate-400",children:"Password"}),(0,n.jsx)("input",{type:"password",value:r,onChange:e=>l(e.target.value),className:"w-full rounded bg-slate-800 p-2 text-white focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),(0,n.jsx)("button",{type:"submit",className:"w-full rounded bg-blue-600 py-2 font-bold text-white hover:bg-blue-700",children:"Login"})]})]})})}},622:function(e,t,r){"use strict";var n=r(2265),s=Symbol.for("react.element"),l=(Symbol.for("react.fragment"),Object.prototype.hasOwnProperty),o=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function i(e,t,r){var n,i={},u=null,c=null;for(n in void 0!==r&&(u=""+r),void 0!==t.key&&(u=""+t.key),void 0!==t.ref&&(c=t.ref),t)l.call(t,n)&&!a.hasOwnProperty(n)&&(i[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps)void 0===i[n]&&(i[n]=t[n]);return{$$typeof:s,type:e,key:u,ref:c,props:i,_owner:o.current}}t.jsx=i,t.jsxs=i},7437:function(e,t,r){"use strict";e.exports=r(622)}},function(e){e.O(0,[971,458,744],function(){return e(e.s=4702)}),_N_E=e.O()}]);