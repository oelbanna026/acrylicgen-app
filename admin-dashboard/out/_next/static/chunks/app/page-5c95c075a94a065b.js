(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{839:function(e,s,t){Promise.resolve().then(t.bind(t,344))},344:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return f}});var a=t(7437),l=t(2265),r=t(5253),n=t(261),i=t(6573),o=t(4235),c=t(39),d=t(6812),x=t(1125);let m=[{name:"Jan",revenue:4e3,ads:2400},{name:"Feb",revenue:3e3,ads:1398},{name:"Mar",revenue:2e3,ads:9800},{name:"Apr",revenue:2780,ads:3908},{name:"May",revenue:1890,ads:4800},{name:"Jun",revenue:2390,ads:3800},{name:"Jul",revenue:3490,ads:4300}];function u(){return(0,a.jsxs)("div",{className:"h-[400px] w-full rounded-xl border border-slate-800 bg-slate-900/50 p-6",children:[(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsx)("h3",{className:"text-lg font-bold text-white",children:"Revenue Overview"}),(0,a.jsx)("p",{className:"text-sm text-slate-400",children:"Monthly revenue from subscriptions vs ads"})]}),(0,a.jsx)(r.h,{width:"100%",height:"100%",children:(0,a.jsxs)(n.T,{data:m,margin:{top:10,right:30,left:0,bottom:0},children:[(0,a.jsxs)("defs",{children:[(0,a.jsxs)("linearGradient",{id:"colorRevenue",x1:"0",y1:"0",x2:"0",y2:"1",children:[(0,a.jsx)("stop",{offset:"5%",stopColor:"#3b82f6",stopOpacity:.3}),(0,a.jsx)("stop",{offset:"95%",stopColor:"#3b82f6",stopOpacity:0})]}),(0,a.jsxs)("linearGradient",{id:"colorAds",x1:"0",y1:"0",x2:"0",y2:"1",children:[(0,a.jsx)("stop",{offset:"5%",stopColor:"#10b981",stopOpacity:.3}),(0,a.jsx)("stop",{offset:"95%",stopColor:"#10b981",stopOpacity:0})]})]}),(0,a.jsx)(i.q,{strokeDasharray:"3 3",stroke:"#1e293b"}),(0,a.jsx)(o.K,{dataKey:"name",stroke:"#64748b",fontSize:12,tickLine:!1,axisLine:!1}),(0,a.jsx)(c.B,{stroke:"#64748b",fontSize:12,tickLine:!1,axisLine:!1,tickFormatter:e=>"$".concat(e)}),(0,a.jsx)(d.u,{contentStyle:{backgroundColor:"#0f172a",borderColor:"#1e293b",color:"#f8fafc"},itemStyle:{color:"#f8fafc"}}),(0,a.jsx)(x.u,{type:"monotone",dataKey:"revenue",stroke:"#3b82f6",fillOpacity:1,fill:"url(#colorRevenue)",name:"Subscription Revenue"}),(0,a.jsx)(x.u,{type:"monotone",dataKey:"ads",stroke:"#10b981",fillOpacity:1,fill:"url(#colorAds)",name:"Ad Revenue"})]})})]})}var h=t(8222);function f(){let[e,s]=(0,l.useState)(null),[t,r]=(0,l.useState)(!0);return((0,l.useEffect)(()=>{let e=localStorage.getItem("token");if(!e){window.location.href="/admin/login";return}(async function(){try{let t=await (0,h.I)("/admin/stats",e);s(t)}catch(e){console.error(e)}finally{r(!1)}})()},[]),t)?(0,a.jsx)("div",{className:"p-8 text-white",children:"Loading stats..."}):(0,a.jsxs)("div",{className:"space-y-8",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-3xl font-bold tracking-tight text-white",children:"Overview"}),(0,a.jsx)("p",{className:"text-slate-400",children:"Welcome back, Admin. Real-time system metrics."})]}),e&&(0,a.jsxs)("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-4",children:[(0,a.jsxs)("div",{className:"rounded-xl border border-slate-800 bg-slate-900/50 p-6",children:[(0,a.jsx)("p",{className:"text-sm text-slate-400",children:"Total Users"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-white",children:e.totalUsers})]}),(0,a.jsxs)("div",{className:"rounded-xl border border-slate-800 bg-slate-900/50 p-6",children:[(0,a.jsx)("p",{className:"text-sm text-slate-400",children:"Total Exports"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-white",children:e.totalExports})]}),(0,a.jsxs)("div",{className:"rounded-xl border border-slate-800 bg-slate-900/50 p-6",children:[(0,a.jsx)("p",{className:"text-sm text-slate-400",children:"Total Revenue"}),(0,a.jsxs)("p",{className:"text-2xl font-bold text-green-500",children:["$",e.totalRevenue.toFixed(2)]})]}),(0,a.jsxs)("div",{className:"rounded-xl border border-slate-800 bg-slate-900/50 p-6",children:[(0,a.jsx)("p",{className:"text-sm text-slate-400",children:"Active Now"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-blue-500",children:e.activeNow})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-2",children:[(0,a.jsx)(u,{}),(0,a.jsxs)("div",{className:"rounded-xl border border-slate-800 bg-slate-900/50 p-6",children:[(0,a.jsx)("h3",{className:"mb-4 text-lg font-bold text-white",children:"System Health"}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("span",{className:"text-slate-400",children:"Database Status"}),(0,a.jsx)("span",{className:"text-green-500 font-bold",children:"Connected"})]}),(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("span",{className:"text-slate-400",children:"API Latency"}),(0,a.jsx)("span",{className:"text-white",children:"24ms"})]}),(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("span",{className:"text-slate-400",children:"Server Uptime"}),(0,a.jsx)("span",{className:"text-white",children:"99.9%"})]})]})]})]})]})}},8222:function(e,s,t){"use strict";async function a(e,s){if(!s)return null;let t=await fetch("/api".concat(e),{headers:{Authorization:"Bearer ".concat(s),"Content-Type":"application/json"}});if(!t.ok){if(401===t.status||403===t.status)return null;throw Error("API Error")}return t.json()}t.d(s,{I:function(){return a}}),t(2265),t(4033)}},function(e){e.O(0,[631,971,458,744],function(){return e(e.s=839)}),_N_E=e.O()}]);